import CamLookAtEncoder from '#/network/rs225/server/codec/game/CamLookAtEncoder.js';
import CamMoveToEncoder from '#/network/rs225/server/codec/game/CamMoveToEncoder.js';
import CamResetEncoder from '#/network/rs225/server/codec/game/CamResetEncoder.js';
import CamShakeEncoder from '#/network/rs225/server/codec/game/CamShakeEncoder.js';
import ChatFilterSettingsEncoder from '#/network/rs225/server/codec/game/ChatFilterSettingsEncoder.js';
import DataLandDoneEncoder from '#/network/rs225/server/codec/game/DataLandDoneEncoder.js';
import DataLandEncoder from '#/network/rs225/server/codec/game/DataLandEncoder.js';
import DataLocDoneEncoder from '#/network/rs225/server/codec/game/DataLocDoneEncoder.js';
import DataLocEncoder from '#/network/rs225/server/codec/game/DataLocEncoder.js';
import EnableTrackingEncoder from '#/network/rs225/server/codec/game/EnableTrackingEncoder.js';
import FinishTrackingEncoder from '#/network/rs225/server/codec/game/FinishTrackingEncoder.js';
import HintArrowEncoder from '#/network/rs225/server/codec/game/HintArrowEncoder.js';
import IfCloseEncoder from '#/network/rs225/server/codec/game/IfCloseEncoder.js';
import IfOpenChatEncoder from '#/network/rs225/server/codec/game/IfOpenChatEncoder.js';
import IfOpenMainEncoder from '#/network/rs225/server/codec/game/IfOpenMainEncoder.js';
import IfOpenMainSideEncoder from '#/network/rs225/server/codec/game/IfOpenMainSideEncoder.js';
import IfOpenSideEncoder from '#/network/rs225/server/codec/game/IfOpenSideEncoder.js';
import IfSetAnimEncoder from '#/network/rs225/server/codec/game/IfSetAnimEncoder.js';
import IfSetColourEncoder from '#/network/rs225/server/codec/game/IfSetColourEncoder.js';
import IfSetHideEncoder from '#/network/rs225/server/codec/game/IfSetHideEncoder.js';
import IfSetModelEncoder from '#/network/rs225/server/codec/game/IfSetModelEncoder.js';
import IfSetNpcHeadEncoder from '#/network/rs225/server/codec/game/IfSetNpcHeadEncoder.js';
import IfSetObjectEncoder from '#/network/rs225/server/codec/game/IfSetObjectEncoder.js';
import IfSetPlayerHeadEncoder from '#/network/rs225/server/codec/game/IfSetPlayerHeadEncoder.js';
import IfSetPositionEncoder from '#/network/rs225/server/codec/game/IfSetPositionEncoder.js';
import IfSetRecolEncoder from '#/network/rs225/server/codec/game/IfSetRecolEncoder.js';
import IfSetTabActiveEncoder from '#/network/rs225/server/codec/game/IfSetTabActiveEncoder.js';
import IfSetTabEncoder from '#/network/rs225/server/codec/game/IfSetTabEncoder.js';
import IfSetTextEncoder from '#/network/rs225/server/codec/game/IfSetTextEncoder.js';
import LastLoginInfoEncoder from '#/network/rs225/server/codec/game/LastLoginInfoEncoder.js';
import LocAddChangeEncoder from '#/network/rs225/server/codec/game/LocAddChangeEncoder.js';
import LocAnimEncoder from '#/network/rs225/server/codec/game/LocAnimEncoder.js';
import LocDelEncoder from '#/network/rs225/server/codec/game/LocDelEncoder.js';
import LocMergeEncoder from '#/network/rs225/server/codec/game/LocMergeEncoder.js';
import LogoutEncoder from '#/network/rs225/server/codec/game/LogoutEncoder.js';
import MapAnimEncoder from '#/network/rs225/server/codec/game/MapAnimEncoder.js';
import MapProjAnimEncoder from '#/network/rs225/server/codec/game/MapProjAnimEncoder.js';
import MessageGameEncoder from '#/network/rs225/server/codec/game/MessageGameEncoder.js';
import MessagePrivateEncoder from '#/network/rs225/server/codec/game/MessagePrivateEncoder.js';
import MidiJingleEncoder from '#/network/rs225/server/codec/game/MidiJingleEncoder.js';
import MidiSongEncoder from '#/network/rs225/server/codec/game/MidiSongEncoder.js';
import NpcInfoEncoder from '#/network/rs225/server/codec/game/NpcInfoEncoder.js';
import ObjAddEncoder from '#/network/rs225/server/codec/game/ObjAddEncoder.js';
import ObjCountEncoder from '#/network/rs225/server/codec/game/ObjCountEncoder.js';
import ObjDelEncoder from '#/network/rs225/server/codec/game/ObjDelEncoder.js';
import ObjRevealEncoder from '#/network/rs225/server/codec/game/ObjRevealEncoder.js';
import PCountDialogEncoder from '#/network/rs225/server/codec/game/PCountDialogEncoder.js';
import PlayerInfoEncoder from '#/network/rs225/server/codec/game/PlayerInfoEncoder.js';
import RebuildNormalEncoder from '#/network/rs225/server/codec/game/RebuildNormalEncoder.js';
import ResetAnimsEncoder from '#/network/rs225/server/codec/game/ResetAnimsEncoder.js';
import ResetClientVarCacheEncoder from '#/network/rs225/server/codec/game/ResetClientVarCacheEncoder.js';
import SetMultiwayEncoder from '#/network/rs225/server/codec/game/SetMultiwayEncoder.js';
import SynthSoundEncoder from '#/network/rs225/server/codec/game/SynthSoundEncoder.js';
import TutFlashEncoder from '#/network/rs225/server/codec/game/TutFlashEncoder.js';
import TutOpenEncoder from '#/network/rs225/server/codec/game/TutOpenEncoder.js';
import UnsetMapFlagEncoder from '#/network/rs225/server/codec/game/UnsetMapFlagEncoder.js';
import UpdateFriendListEncoder from '#/network/rs225/server/codec/game/UpdateFriendListEncoder.js';
import UpdateIgnoreListEncoder from '#/network/rs225/server/codec/game/UpdateIgnoreListEncoder.js';
import UpdateInvFullEncoder from '#/network/rs225/server/codec/game/UpdateInvFullEncoder.js';
import UpdateInvPartialEncoder from '#/network/rs225/server/codec/game/UpdateInvPartialEncoder.js';
import UpdateInvStopTransmitEncoder from '#/network/rs225/server/codec/game/UpdateInvStopTransmitEncoder.js';
import UpdatePidEncoder from '#/network/rs225/server/codec/game/UpdatePidEncoder.js';
import UpdateRebootTimerEncoder from '#/network/rs225/server/codec/game/UpdateRebootTimerEncoder.js';
import UpdateRunEnergyEncoder from '#/network/rs225/server/codec/game/UpdateRunEnergyEncoder.js';
import UpdateRunWeightEncoder from '#/network/rs225/server/codec/game/UpdateRunWeightEncoder.js';
import UpdateStatEncoder from '#/network/rs225/server/codec/game/UpdateStatEncoder.js';
import UpdateZoneFullFollowsEncoder from '#/network/rs225/server/codec/game/UpdateZoneFullFollowsEncoder.js';
import UpdateZonePartialEnclosedEncoder from '#/network/rs225/server/codec/game/UpdateZonePartialEnclosedEncoder.js';
import UpdateZonePartialFollowsEncoder from '#/network/rs225/server/codec/game/UpdateZonePartialFollowsEncoder.js';
import VarpLargeEncoder from '#/network/rs225/server/codec/game/VarpLargeEncoder.js';
import VarpSmallEncoder from '#/network/rs225/server/codec/game/VarpSmallEncoder.js';
import MessageEncoder from '#/network/server/codec/MessageEncoder.js';
import ZoneMessageEncoder from '#/network/server/codec/ZoneMessageEncoder.js';
import CamLookAt from '#/network/server/model/game/CamLookAt.js';
import CamMoveTo from '#/network/server/model/game/CamMoveTo.js';
import CamReset from '#/network/server/model/game/CamReset.js';
import CamShake from '#/network/server/model/game/CamShake.js';
import ChatFilterSettings from '#/network/server/model/game/ChatFilterSettings.js';
import DataLand from '#/network/server/model/game/DataLand.js';
import DataLandDone from '#/network/server/model/game/DataLandDone.js';
import DataLoc from '#/network/server/model/game/DataLoc.js';
import DataLocDone from '#/network/server/model/game/DataLocDone.js';
import EnableTracking from '#/network/server/model/game/EnableTracking.js';
import FinishTracking from '#/network/server/model/game/FinishTracking.js';
import HintArrow from '#/network/server/model/game/HintArrow.js';
import IfClose from '#/network/server/model/game/IfClose.js';
import IfOpenChat from '#/network/server/model/game/IfOpenChat.js';
import IfOpenMain from '#/network/server/model/game/IfOpenMain.js';
import IfOpenMainSide from '#/network/server/model/game/IfOpenMainSide.js';
import IfOpenSide from '#/network/server/model/game/IfOpenSide.js';
import IfSetAnim from '#/network/server/model/game/IfSetAnim.js';
import IfSetColour from '#/network/server/model/game/IfSetColour.js';
import IfSetHide from '#/network/server/model/game/IfSetHide.js';
import IfSetModel from '#/network/server/model/game/IfSetModel.js';
import IfSetNpcHead from '#/network/server/model/game/IfSetNpcHead.js';
import IfSetObject from '#/network/server/model/game/IfSetObject.js';
import IfSetPlayerHead from '#/network/server/model/game/IfSetPlayerHead.js';
import IfSetPosition from '#/network/server/model/game/IfSetPosition.js';
import IfSetRecol from '#/network/server/model/game/IfSetRecol.js';
import IfSetTab from '#/network/server/model/game/IfSetTab.js';
import IfSetTabActive from '#/network/server/model/game/IfSetTabActive.js';
import IfSetText from '#/network/server/model/game/IfSetText.js';
import LastLoginInfo from '#/network/server/model/game/LastLoginInfo.js';
import LocAddChange from '#/network/server/model/game/LocAddChange.js';
import LocAnim from '#/network/server/model/game/LocAnim.js';
import LocDel from '#/network/server/model/game/LocDel.js';
import LocMerge from '#/network/server/model/game/LocMerge.js';
import Logout from '#/network/server/model/game/Logout.js';
import MapAnim from '#/network/server/model/game/MapAnim.js';
import MapProjAnim from '#/network/server/model/game/MapProjAnim.js';
import MessageGame from '#/network/server/model/game/MessageGame.js';
import MessagePrivate from '#/network/server/model/game/MessagePrivate.js';
import MidiJingle from '#/network/server/model/game/MidiJingle.js';
import MidiSong from '#/network/server/model/game/MidiSong.js';
import NpcInfo from '#/network/server/model/game/NpcInfo.js';
import ObjAdd from '#/network/server/model/game/ObjAdd.js';
import ObjCount from '#/network/server/model/game/ObjCount.js';
import ObjDel from '#/network/server/model/game/ObjDel.js';
import ObjReveal from '#/network/server/model/game/ObjReveal.js';
import PCountDialog from '#/network/server/model/game/PCountDialog.js';
import PlayerInfo from '#/network/server/model/game/PlayerInfo.js';
import RebuildNormal from '#/network/server/model/game/RebuildNormal.js';
import ResetAnims from '#/network/server/model/game/ResetAnims.js';
import ResetClientVarCache from '#/network/server/model/game/ResetClientVarCache.js';
import SetMultiway from '#/network/server/model/game/SetMultiway.js';
import SynthSound from '#/network/server/model/game/SynthSound.js';
import TutFlash from '#/network/server/model/game/TutFlash.js';
import TutOpen from '#/network/server/model/game/TutOpen.js';
import UnsetMapFlag from '#/network/server/model/game/UnsetMapFlag.js';
import UpdateFriendList from '#/network/server/model/game/UpdateFriendList.js';
import UpdateIgnoreList from '#/network/server/model/game/UpdateIgnoreList.js';
import UpdateInvFull from '#/network/server/model/game/UpdateInvFull.js';
import UpdateInvPartial from '#/network/server/model/game/UpdateInvPartial.js';
import UpdateInvStopTransmit from '#/network/server/model/game/UpdateInvStopTransmit.js';
import UpdateUid192 from '#/network/server/model/game/UpdatePid.js';
import UpdateRebootTimer from '#/network/server/model/game/UpdateRebootTimer.js';
import UpdateRunEnergy from '#/network/server/model/game/UpdateRunEnergy.js';
import UpdateRunWeight from '#/network/server/model/game/UpdateRunWeight.js';
import UpdateStat from '#/network/server/model/game/UpdateStat.js';
import UpdateZoneFullFollows from '#/network/server/model/game/UpdateZoneFullFollows.js';
import UpdateZonePartialEnclosed from '#/network/server/model/game/UpdateZonePartialEnclosed.js';
import UpdateZonePartialFollows from '#/network/server/model/game/UpdateZonePartialFollows.js';
import VarpLarge from '#/network/server/model/game/VarpLarge.js';
import VarpSmall from '#/network/server/model/game/VarpSmall.js';
import OutgoingMessage from '#/network/server/OutgoingMessage.js';
import ZoneMessage from '#/network/server/ZoneMessage.js';

/* eslint-disable @typescript-eslint/no-explicit-any */
type GenericOutgoingMessage<T extends OutgoingMessage> = new (...args: any[]) => T;

class ServerProtRepository {
    private encoders: Map<GenericOutgoingMessage<OutgoingMessage>, MessageEncoder<OutgoingMessage>> = new Map();

    private bind<T extends OutgoingMessage>(message: GenericOutgoingMessage<T>, encoder: MessageEncoder<T>) {
        if (this.encoders.has(message)) {
            throw new Error(`[ServerProtRepository] Already defines a ${message.name}.`);
        }
        this.encoders.set(message, encoder);
    }

    constructor() {
        this.bind(CamLookAt, new CamLookAtEncoder());
        this.bind(CamMoveTo, new CamMoveToEncoder());
        this.bind(CamReset, new CamResetEncoder());
        this.bind(CamShake, new CamShakeEncoder());
        this.bind(ChatFilterSettings, new ChatFilterSettingsEncoder());
        this.bind(DataLand, new DataLandEncoder());
        this.bind(DataLandDone, new DataLandDoneEncoder());
        this.bind(DataLoc, new DataLocEncoder());
        this.bind(DataLocDone, new DataLocDoneEncoder());
        this.bind(EnableTracking, new EnableTrackingEncoder());
        this.bind(FinishTracking, new FinishTrackingEncoder());
        this.bind(HintArrow, new HintArrowEncoder());
        this.bind(IfClose, new IfCloseEncoder());
        this.bind(IfOpenChat, new IfOpenChatEncoder());
        this.bind(IfOpenMain, new IfOpenMainEncoder());
        this.bind(IfOpenMainSide, new IfOpenMainSideEncoder());
        this.bind(IfOpenSide, new IfOpenSideEncoder());
        this.bind(IfSetTab, new IfSetTabEncoder());
        this.bind(IfSetAnim, new IfSetAnimEncoder());
        this.bind(IfSetColour, new IfSetColourEncoder());
        this.bind(IfSetHide, new IfSetHideEncoder());
        this.bind(IfSetModel, new IfSetModelEncoder());
        this.bind(IfSetNpcHead, new IfSetNpcHeadEncoder());
        this.bind(IfSetObject, new IfSetObjectEncoder());
        this.bind(IfSetPlayerHead, new IfSetPlayerHeadEncoder());
        this.bind(IfSetPosition, new IfSetPositionEncoder());
        this.bind(IfSetRecol, new IfSetRecolEncoder());
        this.bind(IfSetText, new IfSetTextEncoder());
        this.bind(IfSetTabActive, new IfSetTabActiveEncoder());
        this.bind(LastLoginInfo, new LastLoginInfoEncoder());
        this.bind(LocAddChange, new LocAddChangeEncoder());
        this.bind(LocAnim, new LocAnimEncoder());
        this.bind(LocDel, new LocDelEncoder());
        this.bind(LocMerge, new LocMergeEncoder());
        this.bind(Logout, new LogoutEncoder());
        this.bind(MapAnim, new MapAnimEncoder());
        this.bind(MapProjAnim, new MapProjAnimEncoder());
        this.bind(MessageGame, new MessageGameEncoder());
        this.bind(MessagePrivate, new MessagePrivateEncoder());
        this.bind(MidiJingle, new MidiJingleEncoder());
        this.bind(MidiSong, new MidiSongEncoder());
        this.bind(NpcInfo, new NpcInfoEncoder());
        this.bind(ObjAdd, new ObjAddEncoder());
        this.bind(ObjCount, new ObjCountEncoder());
        this.bind(ObjDel, new ObjDelEncoder());
        this.bind(ObjReveal, new ObjRevealEncoder());
        this.bind(PCountDialog, new PCountDialogEncoder());
        this.bind(PlayerInfo, new PlayerInfoEncoder());
        this.bind(RebuildNormal, new RebuildNormalEncoder());
        this.bind(ResetAnims, new ResetAnimsEncoder());
        this.bind(ResetClientVarCache, new ResetClientVarCacheEncoder());
        this.bind(SetMultiway, new SetMultiwayEncoder());
        this.bind(SynthSound, new SynthSoundEncoder());
        this.bind(TutFlash, new TutFlashEncoder());
        this.bind(TutOpen, new TutOpenEncoder());
        this.bind(UnsetMapFlag, new UnsetMapFlagEncoder());
        this.bind(UpdateFriendList, new UpdateFriendListEncoder());
        this.bind(UpdateIgnoreList, new UpdateIgnoreListEncoder());
        this.bind(UpdateInvFull, new UpdateInvFullEncoder());
        this.bind(UpdateInvPartial, new UpdateInvPartialEncoder());
        this.bind(UpdateInvStopTransmit, new UpdateInvStopTransmitEncoder());
        this.bind(UpdateRunEnergy, new UpdateRunEnergyEncoder());
        this.bind(UpdateRunWeight, new UpdateRunWeightEncoder());
        this.bind(UpdateRebootTimer, new UpdateRebootTimerEncoder());
        this.bind(UpdateStat, new UpdateStatEncoder());
        this.bind(UpdateUid192, new UpdatePidEncoder());
        this.bind(UpdateZoneFullFollows, new UpdateZoneFullFollowsEncoder());
        this.bind(UpdateZonePartialEnclosed, new UpdateZonePartialEnclosedEncoder());
        this.bind(UpdateZonePartialFollows, new UpdateZonePartialFollowsEncoder());
        this.bind(VarpLarge, new VarpLargeEncoder());
        this.bind(VarpSmall, new VarpSmallEncoder());
    }

    getEncoder<T extends OutgoingMessage>(message: T): MessageEncoder<T> | undefined {
        return this.encoders.get(message.constructor as GenericOutgoingMessage<T>);
    }

    getZoneEncoder<T extends ZoneMessage>(message: T): ZoneMessageEncoder<T> | undefined {
        return this.encoders.get(message.constructor as GenericOutgoingMessage<T>) as ZoneMessageEncoder<T> | undefined;
    }
}

export default new ServerProtRepository();
